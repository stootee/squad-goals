/* ==================================================== */
/* Global Styles (Retained Aesthetic) */
/* ==================================================== */

.goal-entry-page {
    /* Set a reasonable maximum width for the *entire* card content */
    max-width: 600px;
    margin: 0 auto;
    padding: 20px; /* Assuming this is wrapped in a glass-card div */
}

.page-title {
    font-size: 1.8em;
    font-weight: 700;
    color: var(--text-color);
    margin-bottom: 5px;
}

/* Date Navigator Styling */
.date-navigator {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 20px 0 30px;
    padding: 5px 0;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.date-display {
    font-size: 1.1em;
    font-weight: bold;
    color: var(--primary-color);
}

/* ----------------------------------------------- */
/* Action Buttons & Nav Button Styling (FIXED) */
/* ----------------------------------------------- */

.nav-btn {
    padding: 8px 12px;
    height: 35px;
    min-width: 35px; 
    border-radius: var(--border-radius-sm);
    cursor: pointer;
    font-weight: bold;
    font-size: 1.2em; 
    line-height: 1; 
    display: flex; 
    align-items: center;
    justify-content: center;

    /* Explicitly define button styling to prevent icon styles from bleeding */
    border: 1px solid var(--border-color);
    background-color: var(--background-dark-color);
    color: var(--text-color-light); 
    opacity: 1; /* Ensure full opacity */
    transition: background-color 0.2s, opacity 0.2s;
}

.secondary-btn {
    background-color: var(--background-dark-color);
    color: var(--text-color-light);
    border: 1px solid var(--border-color);
}

.secondary-btn:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.success-btn {
    padding: 10px 15px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    background-color: var(--success-color);
    color: var(--text-color); 
    transition: background-color 0.2s, opacity 0.2s;
}

.success-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}


/* ==================================================== */
/* Goal Entry List and Controls (MODIFIED FOR NOTE BELOW) */
/* ==================================================== */

.goal-list {
    margin-top: 20px;
}

/* NEW: Container to wrap the main row and the note row for one goal */
.goal-row-container {
    /* Encapsulates a goal's main entry and its note area */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
    padding: 12px 0; /* Vertical padding is now on the wrapper */
}

.goal-entry-row {
    /* Main container for the goal name and inline controls */
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0; /* Remove vertical padding since it's on the wrapper */
    border-bottom: none; /* Remove border since it's on the wrapper */
}

.goal-label-group {
    flex-grow: 1;
    padding-right: 10px;
}

/* Container for the value input and icon */
.goal-controls-inline {
    display: flex;
    align-items: center; 
    gap: 8px; 
    flex-shrink: 0;
}

/* Input Styling */
.input.goal-input {
    width: 80px; 
    padding: 8px 10px;
    border: 1px solid var(--input-border-color);
    border-radius: 6px;
    text-align: right;
    background-color: rgba(0, 0, 0, 0.2);
    color: var(--highlight-color);
    font-weight: bold;
    transition: border-color 0.2s;
}

.input.goal-input:focus {
    border-color: var(--primary-color);
    outline: none;
}

/* Styling for the clickable notepad icon (span) */
.note-icon-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.2em;
    padding: 0;
    width: 20px; 
    height: 20px;
    /* Basic state */
    color: var(--text-color-light); 
    opacity: 0.5; 
    transition: opacity 0.2s, color 0.2s;
}

.note-icon-toggle:hover {
    opacity: 0.8;
}

/* Style when a note is present */
.note-icon-toggle.has-content {
    opacity: 1; 
    color: var(--primary-color);
}

/* Style when the note input is open/active (via click) */
.note-icon-toggle.is-open {
    color: var(--highlight-color);
}


/* NEW: Styles for the note area BELOW the entry row */
.note-input-area-below {
    margin-top: 8px;
    padding-top: 4px;
    padding-bottom: 4px;
    /* Indent slightly to align content within the goal list padding */
    padding-left: 0; 
    padding-right: 0;
}

.note-input-full-width {
    /* Makes the input span the full width of the goal-row-container */
    width: 100%;
    box-sizing: border-box; 
    min-height: 35px;
    padding: 8px 10px;
    border: 1px solid var(--input-border-color);
    border-radius: 6px;
    background-color: rgba(0, 0, 0, 0.2);
    color: var(--text-color);
    font-size: 0.9em;
}


/* ==================================================== */
/* Desktop Restyle Fix */
/* ==================================================== */
@media (min-width: 768px) {
    .goal-entry-page {
        max-width: 550px; 
    }

    .goal-entry-row {
        /* Use CSS Grid to define the two main columns */
        display: grid;
        grid-template-columns: 50% 50%; 
    }

    .goal-label-group {
        padding-right: 20px;
    }

    .goal-controls-inline {
        /* Pushes the controls group to the right side of the second grid column */
        justify-content: flex-end; 
    }
    
    .input.goal-input {
        width: 100px;
    }
    
    .note-input-area-below {
        /* On desktop, make the note area span both columns for a cleaner look */
        grid-column: 1 / -1; 
        margin-top: 8px;
    }
}